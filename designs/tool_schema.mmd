%%{init: {'theme': 'base', 'themeVariables': { 'primaryColor': '#ADD8E6', 'primaryTextColor': '#000', 'primaryBorderColor': '#7FB3D5', 'lineColor': '#7FB3D5', 'secondaryColor': '#E8F4F8', 'tertiaryColor': '#fff'}}}%%

flowchart TD    
    %% Tool Definition Section
    subgraph ToolSection ["ğŸ”§ Tool Functionality Schema"]
        ToolDef["ğŸ› ï¸ <b>ToolDefinition</b>
        â€¢ name: string
        â€¢ description: string
        â€¢ resource: string (ARN)
        â€¢ parameters: Parameter[]
        â€¢ return: ReturnValue"]
        
        Param["ğŸ“Š <b>Parameter</b>
        â€¢ name: string
        â€¢ type: string
        â€¢ description: string
        â€¢ required: boolean
        â€¢ default_value: any
        â€¢ constraints: Constraints"]
        
        Return["ğŸ“¤ <b>Return</b>
        â€¢ type: string
        â€¢ description: string
        â€¢ schema: object"]
    end
    
    %% Constraints and Types Section
    subgraph ValidationSection ["âœ… Validation & Types"]
        Constraints["ğŸ”’ <b>Constraints</b>
        â€¢ min: number
        â€¢ max: number
        â€¢ pattern: string
        â€¢ enum: any[]"]
        
        DataTypes["ğŸ“‹ <b>DataType</b>
        â€¢ string
        â€¢ number
        â€¢ boolean
        â€¢ object"]
    end
    
    %% Relationships
    ToolDef -->|may have parameters| Param
    ToolDef -->|may have return| Return
    Param -->|may have| Constraints
    Param -->|uses type| DataTypes
    Return -->|uses type| DataTypes
    
    %% Styling
    classDef plannerStyle fill:#E8F4F8,stroke:#7FB3D5,stroke-width:2px,color:#000
    classDef toolStyle fill:#ADD8E6,stroke:#7FB3D5,stroke-width:2px,color:#000
    classDef validationStyle fill:#B8E6B8,stroke:#7FB3D5,stroke-width:2px,color:#000
    
    %% Apply styles
    class Planner plannerStyle
    class ToolDef,Param,Return toolStyle
    class Constraints,DataTypes validationStyle
    
    %% Subgraph styling
    style ToolSection fill:#F0F8FF,stroke:#7FB3D5,stroke-width:2px,color:#000,stroke-dasharray: 5 5
    style ValidationSection fill:#F5FFF5,stroke:#7FB3D5,stroke-width:2px,color:#000,stroke-dasharray: 5 5
